CCEffect %{
  techniques:
  - passes:
    - vert: vs
      frag: fs
      depthStencilState:
        depthTest: true
        depthWrite: true
}%

CCProgram vs %{
  precision mediump float;
  in vec3 a_position;
  in vec3 a_normal;
  in vec2 a_texCoord;

  #include <cc-global>
  #include <cc-local>

  out vec2 uv;
  out vec3 normal;

  void main () {
    uv = a_texCoord;
    normal = a_normal;
	  gl_Position = cc_matViewProj * cc_matWorld * vec4(a_position, 1);
  }
}%

CCProgram fs %{
  precision mediump float;
  in vec2 uv;
  in vec3 normal;
  out vec4 fragColor;

  void main () {
    fragColor = vec4(normal * 0.5 + 0.5, 1);
    // gl_FragColor = vec4(abs(mod(uv, 2.0) - 1.0), 1, 1);
  }
}%
